<div class="container-fluid">
  <h1 class="mt-4 mx-2 pb-2">Crear nueva Aplicación</h1>
  <form class="mx-2 my-2 pt-2" [formGroup]="aplicacionForm" (ngSubmit)="onSubmit()">
    <div class="row ">
      <div class="col-md-3">
        <div class="form-floating mb-2">
          <input 
          type="text" 
          class="form-control" 
          id="codigo-aplicacion" 
          formControlName="codAplic" 
          placeholder="test"
          required
          [class.is-invalid]="aplicacionForm.get('codAplic')?.invalid && (aplicacionForm.get('codAplic')?.dirty || aplicacionForm.get('codAplic')?.touched)" />
          <label for="codigo-aplicacion">Código de la aplicación</label>
        </div>
      </div>
      <div class="col-md-9">
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="nombre-aplicacion" formControlName="nombAplic"
            placeholder="test" />
          <label for="nombre-aplicacion">Nombre de la aplicación</label>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-area" formControlName="area">
            <option *ngFor="let area of datosArea" [value]="area.id_Area">{{ area.area }}</option>
          </select>
          <label for="cb-area">Area</label>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-subarea" formControlName="subArea">
            <option *ngFor="let subArea of datosSubarea" [value]="subArea.id">{{ subArea.subarea }}</option>
          </select>
          <label for="cb-subarea">Subarea</label>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-responsable" formControlName="resp">
            <option *ngFor="let resp of datosResp" [value]="resp.id">{{ resp.responsable }}</option>
          </select>
          <label for="cb-responsable">Responsable</label>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-tecnologia" formControlName="tecn">
            <option *ngFor="let tecn of datosTecn" [value]="tecn.id">{{ tecn.tecnologia }}</option>
          </select>
          <label for="cb-tecnologia">Tecnologia</label>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3">
        <div class="form-floating mb-3">
          <select 
          class="form-select" 
          id="cb-criticidad" 
          formControlName="criti"
          required
          [class.is-invalid]="aplicacionForm.get('criti')?.invalid && (aplicacionForm.get('criti')?.dirty || aplicacionForm.get('criti')?.touched)">
            <option *ngFor="let criti of datosCriti" [value]="criti.id">{{criti.criticidad}}</option>
          </select>
          <label for="cb-criticidad">Criticidad</label>
        </div>
      </div>
      <div class="col-md-2">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-volumen-evolutivo" formControlName="volEvol">
            <option *ngFor="let volEvol of datosVEvo" [value]="volEvol.id">{{ volEvol.volumenEvolutivo }}</option>
          </select>
          <label for="cb-volumen-evolutivo">Volumen Evolutivo</label>
        </div>
      </div>
      <div class="col-md-2">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-volumen-usuarios" formControlName="volUsu">
            <option *ngFor="let volUsu of datosVUsu" [value]="volUsu.id">{{ volUsu.volumenUsuarios }}</option>
          </select>
          <label for="cb-volumen-usuarios">Volumen Usuarios</label>
        </div>
      </div>
      <div class="col-md-2">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-tipo" formControlName="tipo">
            <option *ngFor="let tipo of datosTipo" [value]="tipo.id">{{ tipo.tipo }}</option>
          </select>
          <label for="cb-tipo">Tipo</label>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-floating mb-3">
          <select class="form-select" id="cb-tecnologia-integracion" formControlName="tecInt">
            <option *ngFor="let tecnInt of datosTecInt" [value]="tecnInt.id">{{ tecnInt.tecnologiaInterfaz }}</option>
          </select>
          <label for="cb-tecnologia-integracion">Tecnologia Integracion</label>
        </div>
      </div>
    </div>
    <div class="text-center mb-4">
      <button class="btn btn-outline-danger my-2 me-2" (click)="cancelarInsert()">Cancelar</button>
      <button type="submit" class="btn btn-success my-2" [disabled]="!aplicacionForm.valid">Crear aplicación</button>
    </div>
  </form>
</div>